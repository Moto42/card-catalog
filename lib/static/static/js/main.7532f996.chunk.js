(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,function(e,t,a){e.exports=a(30)},,,,,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),i=a.n(l),o=(a(16),a(2)),s=a(3),c=a(6),u=a(4),h=a(5),m=(a(18),a(20),a(1)),d=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.children.map(function(t){return r.a.createElement("button",{onClick:function(){return e.props.changeTab(t.props.tabName)}},t.props.tabName)});return r.a.createElement("div",null,t)}}]),t}(n.Component),b=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.children.filter(function(t){return t.props.tabName===e.props.displayTab}))}}]),t}(n.Component),p=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={displayTab:""},a.changeTab=a.changeTab.bind(Object(m.a)(Object(m.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.defaultTab?this.setState({displayTab:this.props.defaultTab}):this.setState({displayTab:this.props.children[0].props.tabName})}},{key:"changeTab",value:function(e){this.setState({displayTab:e})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(d,{changeTab:this.changeTab},this.props.children),r.a.createElement(b,{displayTab:this.state.displayTab},this.props.children))}}]),t}(n.Component),f=a(8),E=(a(22),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={responseFeedback:"",stacksList:{},formData:{title:"",authorFirst:"",authorLast:"",publisher:"",publishedYear:"",upc:"",isbn:"",format:"",shelfLocation:"",state:"",genre:"",subjects:""}},a.formDataUpdater=a.formDataUpdater.bind(Object(m.a)(Object(m.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(Object(m.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"stackReducer",value:function(e,t){return e["".concat(t.container,"-").concat(t.name)]=t.id,e}},{key:"getStacksList",value:function(){var e=this,t=new XMLHttpRequest;t.open("GET","/api/stacks",!0),t.onreadystatechange=function(){if(4===t.readyState){var a=JSON.parse(t.responseText).reduce(e.stackReducer,{}),n=Object.keys(a)[0];e.setState({stacksList:a}),e.setState({shelfLocation:n})}},t.send()}},{key:"formDataUpdater",value:function(e){var t=e.target.id,a=e.target.value,n=Object(f.a)({},this.state.formData);n[t]=a,this.setState({formData:n})}},{key:"handleResponse",value:function(){console.log("HTML Response: 724, This line should be unreachable.")}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),this.state.formData.shelfLocation){var a=Object(f.a)({},this.state.formData);a.shelfLocation=a.shelfLocation?this.state.stacksList[a.shelfLocation]:this.state.stacksList[Object.keys(this.state.stacksList)[0]];var n=JSON.stringify(a),r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState)switch(r.status){case 200:t.setState({responseFeedback:"Successfully added ".concat(t.state.formData.title," to database.")});t.setState({formData:{title:"",authorFirst:"",authorLast:"",publisher:"",publishedYear:"",upc:"",isbn:"",format:"",state:"",genre:"",subjects:""}});break;case 500:t.setState({responseFeedback:"An error has occured ".concat(t.state.formData.title," not added to database")});break;default:t.setState({responseFeedback:"Something unexpected has occured. status was: ".concat(r.status)})}},r.open("POST","api/books",!0),r.setRequestHeader("Content-Type","application/json"),r.send(n)}else this.setState({responseFeedback:"Shelf Location cannot be empty."})}},{key:"componentDidMount",value:function(){this.getStacksList()}},{key:"render",value:function(){var e=Object.keys(this.state.stacksList).map(function(e){return r.a.createElement("option",null," ",e," ")});return r.a.createElement("div",{id:"StackAdderContainer"},r.a.createElement("details",null,r.a.createElement("summary",null,"How To Use"),"Just fill in the form with the details of your book.",r.a.createElement("br",null),"The 'Shelf Location' field is required. The book has to go somewhere",r.a.createElement("br",null),"If the Shelf Location you need is not found in the list, or the list is empty, please go to the 'Add Storage Location' tab to add it.",r.a.createElement("br",null),"All other fields are optional.",r.a.createElement("details",null,r.a.createElement("summary",null,"Description of fields"),r.a.createElement("ul",null,r.a.createElement("li",null,"Title: The title of the book.",r.a.createElement("em",null,"ie: 'Al Azif'")),r.a.createElement("li",null,"Author First: The authors first name.",r.a.createElement("em",null,"ie: 'Alhazred'")),r.a.createElement("li",null,"Author Last: The authors last name.",r.a.createElement("em",null,"ie: 'Abdule'")),r.a.createElement("li",null,"Genre: A comma, seperated, list, of any genre this book belongs too. ",r.a.createElement("em",null,"ie: 'antique, occult, cookbooks'")),r.a.createElement("li",null,"Subjects: A comma, seperated, list, of any subjects this book pertains too. ",r.a.createElement("em",null,"ie: 'occult, rituals, forbidden knowledge, charcuterie, alchemy'")),r.a.createElement("li",null,"Publister: The company that published the book. ",r.a.createElement("em",null,"ie: 'self published'")),r.a.createElement("li",null,"Published Year: What year the book was published. ",r.a.createElement("em",null,"ie: '738 AD'")),r.a.createElement("li",null,"UPC: An identifying UPC code, if the book has one, or if one was added by the librarian.",r.a.createElement("em",null,"ie: 9782352947103")),r.a.createElement("li",null,"ISBN: The books ISBN number, if it has one.",r.a.createElement("em",null,"ie: 9782352947103")),r.a.createElement("li",null,"Format:",r.a.createElement("em",null,"ie: 'Leather bound manuscript'")),r.a.createElement("li",null,"Shelf Location: Where this book is stored, selected from the list.",r.a.createElement("em",null,"ie:'Burried Under Barn'")),r.a.createElement("li",null,"Condition: The general condition of the book.",r.a.createElement("em",null,"ie: 'Minor Fire Damage, stained'"))))),r.a.createElement("form",{id:"BookAdderForm"},r.a.createElement("label",null," Title:         ",r.a.createElement("input",{onChange:this.formDataUpdater,value:this.state.formData.name,type:"text",id:"title"}),"        "),r.a.createElement("br",null),r.a.createElement("label",null," Author First:   ",r.a.createElement("input",{onChange:this.formDataUpdater,value:this.state.formData.name,type:"text",id:"authorFirst"}),"  "),r.a.createElement("br",null),r.a.createElement("label",null," Author Last:    ",r.a.createElement("input",{onChange:this.formDataUpdater,value:this.state.formData.name,type:"text",id:"authorLast"}),"   "),r.a.createElement("br",null),r.a.createElement("label",null," Genre:         ",r.a.createElement("input",{onChange:this.formDataUpdater,value:this.state.formData.name,type:"text",id:"genre",placeholder:"Seperate, each, genre, with, a, comma"}),"    "),r.a.createElement("br",null),r.a.createElement("label",null," Subjects:      ",r.a.createElement("input",{onChange:this.formDataUpdater,value:this.state.formData.name,type:"text",id:"subjects",peholder:"Seperate, each, genre, with, a, comma"}),"    "),r.a.createElement("br",null),r.a.createElement("label",null," Publisher:     ",r.a.createElement("input",{onChange:this.formDataUpdater,value:this.state.formData.name,type:"text",id:"publisher"}),"    "),r.a.createElement("br",null),r.a.createElement("label",null," Published Year: ",r.a.createElement("input",{onChange:this.formDataUpdater,value:this.state.formData.name,type:"text",id:"publishedYear"})),r.a.createElement("br",null),r.a.createElement("label",null," UPC:           ",r.a.createElement("input",{onChange:this.formDataUpdater,value:this.state.formData.name,type:"text",id:"upc"}),"          "),r.a.createElement("br",null),r.a.createElement("label",null," ISBN:          ",r.a.createElement("input",{onChange:this.formDataUpdater,value:this.state.formData.name,type:"text",id:"isbn"}),"         "),r.a.createElement("br",null),r.a.createElement("label",null," Format:        ",r.a.createElement("input",{onChange:this.formDataUpdater,value:this.state.formData.name,type:"text",id:"format",list:"formatList"}),"       "),r.a.createElement("br",null),r.a.createElement("datalist",{id:"formatList"},r.a.createElement("option",null,"Paperback"),r.a.createElement("option",null,"Hardback"),r.a.createElement("option",null,"DVD")),r.a.createElement("label",null,"Shelf Location:",r.a.createElement("select",{onChange:this.formDataUpdater,type:"text",id:"shelfLocation"},e)),r.a.createElement("br",null),r.a.createElement("label",null," Condition:     ",r.a.createElement("input",{onChange:this.formDataUpdater,value:this.state.formData.name,type:"text",id:"state"}),"        "),r.a.createElement("br",null),r.a.createElement("datalist",{id:"conditionList"},r.a.createElement("option",null,"Perfect"),r.a.createElement("option",null,"Damaged"),r.a.createElement("option",null,"Used"),r.a.createElement("option",null,"Falling Apart")),r.a.createElement("button",{onClick:this.handleSubmit},"Submit"),r.a.createElement("div",{id:"serverResponse"},this.state.responseFeedback)))}}]),t}(r.a.Component));var k=function(){return r.a.createElement("div",{className:".compBorder"},r.a.createElement(E,null))},v=(a(24),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={serverResponse:"",formData:{name:"",building:"",floor:"",room:"",container:"",containerType:"",description:""},containerTypes:[]},a.formDataUpdater=a.formDataUpdater.bind(Object(m.a)(Object(m.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(Object(m.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"formDataUpdater",value:function(e){var t=e.target.id,a=e.target.value,n=Object(f.a)({},this.state.formData);n[t]=a,this.setState({formData:n})}},{key:"handleResponse",value:function(){console.log("HTML Response: 724, This line should be unreachable.")}},{key:"handleSubmit",value:function(e){var t=this,a=JSON.stringify(this.state.formData),n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState)switch(n.status){case 200:t.setState({serverResponse:'New container "'.concat(t.state.formData.name,'" successfully added to the stacks.')});break;case 500:t.setState({serverResponse:"Error adding new container to stacks."});break;default:t.setState({serverResponse:"Something unexpected has occured. Server response code: ".concat(n.status)})}},n.open("POST","api/stacks",!0),n.setRequestHeader("Content-Type","application/json"),n.send(a)}},{key:"render",value:function(){return r.a.createElement("div",{id:"StackAdderContainer"},r.a.createElement("form",{id:"StackAdderForm"},r.a.createElement("label",null," Name         : ",r.a.createElement("input",{onChange:this.formDataUpdater,value:this.state.formData.name,type:"text",id:"name"})),r.a.createElement("br",null),r.a.createElement("label",null," Building     : ",r.a.createElement("input",{onChange:this.formDataUpdater,value:this.state.formData.building,type:"text",id:"building"})),r.a.createElement("br",null),r.a.createElement("label",null," Floor        : ",r.a.createElement("input",{onChange:this.formDataUpdater,value:this.state.formData.floor,type:"text",id:"floor"})),r.a.createElement("br",null),r.a.createElement("label",null," Room         : ",r.a.createElement("input",{onChange:this.formDataUpdater,value:this.state.formData.room,type:"text",id:"room"})),r.a.createElement("br",null),r.a.createElement("label",null," Container    : ",r.a.createElement("input",{onChange:this.formDataUpdater,value:this.state.formData.container,type:"text",id:"container"})),r.a.createElement("br",null),r.a.createElement("label",null," Container Type: ",r.a.createElement("input",{onChange:this.formDataUpdater,value:this.state.formData.containerType,type:"text",id:"containerType"})),r.a.createElement("br",null),r.a.createElement("label",null," Description  : ",r.a.createElement("textarea",{onChange:this.formDataUpdater,value:this.state.formData.description,id:"description"})),r.a.createElement("br",null),r.a.createElement("button",{type:"button",onClick:this.handleSubmit},"submit")),r.a.createElement("div",{id:"serverResponse"},this.state.serverResponse))}}]),t}(r.a.Component));var g=function(){return r.a.createElement("div",null,r.a.createElement("details",null,r.a.createElement("summary",null,"How to Use"),"All your books have to go somewhere. Use this form to add new storage locations to your library.",r.a.createElement("br",null),"All fields are required.",r.a.createElement("ul",null,r.a.createElement("li",null,"Name: The display name of this container.  ",r.a.createElement("em",null,"ie: 'The iron banded box.'")),r.a.createElement("li",null,"Building: The building this contaner is found in. ",r.a.createElement("em",null,"ie: National Archives")),r.a.createElement("li",null,"Floor: What floor fo the building this contaner is on. ",r.a.createElement("em",null,"ie: Sub-basement 16.")),r.a.createElement("li",null,"Room: What room this container is found in. ",r.a.createElement("em",null,"ie: Room SB16-5")),r.a.createElement("li",null,"Container: What book-case, closet or box this container is a part of or stored in... ",r.a.createElement("em",null,"ie: Shelf C - Bottom Shelf ")),r.a.createElement("li",null,"Cotainer Type: A short description of what kind of container this is. ",r.a.createElement("em",null,"ie: 'wooden box'")),r.a.createElement("li",null,"Description: A more full descripton of the container.",r.a.createElement("br",null),r.a.createElement("em",null,"Antique wooden box, held closed by 4 iron bands permanently rivited in place around it.")))),r.a.createElement(v,null))},y=a(7);var j=function(e){var t=e.showBookInfo,a=e.book,n=a.title,l=a.authorFirst,i=a.authorLast,o=a.publishedYear,s=a.genre;return r.a.createElement("tr",{onClick:function(){return t(a)},className:"BookListing"},r.a.createElement("td",{className:"title"},n),r.a.createElement("td",{className:"author"},"".concat(l," ").concat(i)),r.a.createElement("td",{className:"year"},o),r.a.createElement("td",{className:"genre"},s))};a(26);var S=function(e){var t=e.booksList.map(function(t){return r.a.createElement(j,{book:t,showBookInfo:e.showBookInfo})});return r.a.createElement("table",{className:"bookListingTable",id:"BooksListDisplay"},r.a.createElement("tr",null,r.a.createElement("td",{className:"title tableHeading"},"Title"),r.a.createElement("td",{className:"author tableHeading"},"Author"),r.a.createElement("td",{className:"year tableHeading"},"Year"),r.a.createElement("td",{className:"genre tableHeading"},"Genre")),t)},O=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.callback;return r.a.createElement("div",{class:"booksSearchCheckBox"},t[1]?r.a.createElement("input",{type:"checkbox",onChange:a,checked:!0}):r.a.createElement("input",{type:"checkbox",onChange:a}),t[0])}}]),t}(n.Component),L=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.list,a=e.callback;return r.a.createElement("div",{class:"bookSearchChecklist"},t.map(function(e){return r.a.createElement(O,{item:e,callback:a})}))}}]),t}(n.Component),C=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"filterByGenre",value:function(e,t){return t.filter(function(t){return e.some(function(e){return e.genre.some(function(e){return e===t[0]})})})}},{key:"filterBySubject",value:function(e,t){return t.filter(function(t){return e.some(function(e){return e.subject.some(function(e){return e===t[0]})})})}},{key:"render",value:function(){var e=this.props,t=e.genreList,a=e.subjectsList,n=e.booksList;return r.a.createElement("div",{id:"BooksSearchForm"},r.a.createElement("input",{type:"text",placeholder:"Title Search",onChange:this.props.updateSearchString}),r.a.createElement("hr",null),r.a.createElement("em",null,"Genre Filters"),r.a.createElement(L,{list:this.filterByGenre(n,t),callback:this.props.genreTicker}),r.a.createElement("hr",null),r.a.createElement("em",null,"Subjects Filter"),r.a.createElement(L,{list:this.filterBySubject(n,a),callback:this.props.subjectTicker}))}}]),t}(n.Component);var D=function(e){var t=e.book,a=t.title,n=void 0===a?"untitled":a,l=t.authorFirst,i=t.authorLast,o=t.publisher,s=t.publishedYear,c=t.upc,u=t.isbn,h=t.format,m=t.state,d=t.genre,b=t.subject;return r.a.createElement("div",{id:"BookDetails"},r.a.createElement("h2",{className:"title"},n),r.a.createElement("p",null,"Author: ",l," ",i,"; Publisher: ",o,"; Year: ",s),r.a.createElement("p",null,"ISBN: ",u,"; UPC: ",c,"; Format: ",h),r.a.createElement("p",null,"ShelfLocation:",e.shelf?r.a.createElement("div",null,"".concat(e.shelf.room," > ").concat(e.shelf.name," > ").concat(e.shelf.container),r.a.createElement("br",null),e.shelf.description):r.a.createElement("div",{className:"waiting"},"Processing...")),r.a.createElement("p",null,"Condition ",m),r.a.createElement("p",null,"Genre:",d.join(", ")),r.a.createElement("p",null,"Subject: ",b.join(", ")))},T=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(c.a)(this,Object(u.a)(t).call(this,e));var n=e.book,r=n.title,l=n.authorFirst,i=n.authorLast,s=n.publisher,h=n.publishedYear,d=n.upc,b=n.isbn,p=n.format,f=n.state,E=n.genre,k=n.subject;return a.state={responseFeedback:"",stacksList:{},title:r,authorFirst:l,authorLast:i,publisher:s,publishedYear:h,upc:d,isbn:b,format:p,shelfLocation:"".concat(e.shelf.container,"-").concat(e.shelf.name),condition:f,genre:E,subject:k},a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(Object(m.a)(a))),a.handleDelete=a.handleDelete.bind(Object(m.a)(Object(m.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={title:this.state.title,authorFirst:this.state.authorFirst,authorLast:this.state.authorLast,publisher:this.state.publisher,publishedYear:this.state.publishedYear,upc:this.state.upc,isbn:this.state.isbn,format:this.state.format,state:this.state.condition,genre:this.state.genre.join(","),subjects:this.state.subject.join(","),shelfLocation:this.state.shelfLocation},n=Object(f.a)({},a);n.shelfLocation=this.state.stacksList[n.shelfLocation];var r=JSON.stringify(n),l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===l.readyState)switch(l.status){case 200:t.setState({responseFeedback:"Successfully updated ".concat(t.state.title,".")}),t.props.updateNotifyer();break;case 500:t.setState({responseFeedback:"An error has occured ".concat(t.state.title," was not updated")});break;default:t.setState({responseFeedback:"Something unexpected has occured. status was: ".concat(l.status)})}},l.open("PUT","api/books/".concat(this.props.book.id),!0),l.setRequestHeader("Content-Type","application/json"),l.send(r)}},{key:"stackReducer",value:function(e,t){return e["".concat(t.container,"-").concat(t.name)]=t.id,e}},{key:"getStacksList",value:function(){var e=this,t=new XMLHttpRequest;t.open("GET","/api/stacks",!0),t.onreadystatechange=function(){if(4===t.readyState){var a=JSON.parse(t.responseText).reduce(e.stackReducer,{}),n=e.state.shelfLocation;e.setState({stacksList:a}),e.setState({shelfLocation:n})}},t.send()}},{key:"componentDidMount",value:function(){this.getStacksList()}},{key:"handleChange",value:function(e,t){var a={};a[e]=t,this.setState(a)}},{key:"handleDelete",value:function(){var e=this,t=new XMLHttpRequest;t.open("DELETE","/api/books/".concat(this.props.book.id),!0),t.onreadystatechange=function(){4===t.readyState&&e.props.updateNotifyer()},t.send(),this.props.deleteNotify()}},{key:"render",value:function(){var e=this,t=this.state,a=t.title,n=void 0===a?"untitled":a,l=t.authorFirst,i=t.authorLast,o=t.publisher,s=t.publishedYear,c=t.upc,u=t.isbn,h=t.format,m=t.shelfLocation,d=t.condition,b=t.genre,p=t.subject,f=Object.keys(this.state.stacksList).map(function(t){return t===e.state.shelfLocation?r.a.createElement("option",{selected:"selected"},t," "):r.a.createElement("option",null," ",t," ")});return r.a.createElement("div",{id:"BookEdit"},"Title: ",r.a.createElement("input",{type:"text",placeholder:"",value:n,onChange:function(t){return e.handleChange("title",t.target.value)}}),r.a.createElement("p",null,"Author: ",r.a.createElement("input",{type:"text",placeholder:"",value:l,onChange:function(t){return e.handleChange("authorFirst",t.target.value)}}),r.a.createElement("input",{type:"text",placeholder:"",value:i,onChange:function(t){return e.handleChange("authorLast",t.target.value)}}),"; Publisher: ",r.a.createElement("input",{type:"text",placeholder:"",value:o,onChange:function(t){return e.handleChange("publisher",t.target.value)}}),"; Year: ",r.a.createElement("input",{type:"text",placeholder:"",value:s,onChange:function(t){return e.handleChange("publishedYear",t.target.value)}})),r.a.createElement("p",null,"ISBN: ",r.a.createElement("input",{type:"text",placeholder:"",value:u,onChange:function(t){return e.handleChange("isbn",t.target.value)}}),"; UPC: ",r.a.createElement("input",{type:"text",placeholder:"",value:c,onChange:function(t){return e.handleChange("upc",t.target.value)}}),"; Format: ",r.a.createElement("input",{type:"text",placeholder:"",value:h,onChange:function(t){return e.handleChange("format",t.target.value)}}),r.a.createElement("datalist",{id:"formatList"},r.a.createElement("option",null,"Paperback"),r.a.createElement("option",null,"Hardback"),r.a.createElement("option",null,"DVD"))),r.a.createElement("p",null,"ShelfLocation:",r.a.createElement("select",{value:m,onChange:function(t){return e.handleChange("shelfLocation",t.target.value)}},f)),r.a.createElement("p",null,"condition ",r.a.createElement("input",{type:"text",placeholder:"",value:d,onChange:function(t){return e.handleChange("condition",t.target.value)}})),r.a.createElement("p",null,"Genre:",r.a.createElement("input",{type:"text",placeholder:"",value:b.join(","),onChange:function(t){return e.handleChange("genre",t.target.value.toLowerCase().split(","))}})),r.a.createElement("p",null,"Subject: ",r.a.createElement("input",{type:"text",placeholder:"",value:p.join(","),onChange:function(t){return e.handleChange("subject",t.target.value.toLowerCase().split(","))}})),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.handleSubmit},"Submit"),r.a.createElement("br",null),r.a.createElement("details",null,r.a.createElement("summary",null,"Delete This Book"),r.a.createElement("br",null),r.a.createElement("span",{className:"warning"},"WARNING!",r.a.createElement("br",null),"This cannot be undone!"),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.handleDelete},"Delete"))),r.a.createElement("div",null,r.a.createElement("p",null,this.state.responseText)))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={display:"details",editButtonText:"Edit",shelf:!1},a.toggleEdit=a.toggleEdit.bind(Object(m.a)(Object(m.a)(a))),a.updateNotifyer=a.updateNotifyer.bind(Object(m.a)(Object(m.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"updateNotifyer",value:function(){this.props.hideBookInfo()}},{key:"toggleEdit",value:function(){var e="details"===this.state.display?"edit":"details",t="details"===this.state.display?"Cancel":"Edit";this.setState({display:e,editButtonText:t})}},{key:"getShelfLocation",value:function(e){var t=this,a=new XMLHttpRequest;a.open("GET","/api/stacks/".concat(e),!0),a.onreadystatechange=function(){if(4===a.readyState){var e=JSON.parse(a.responseText);t.setState({shelf:e})}},a.send()}},{key:"componentDidMount",value:function(){this.getShelfLocation(this.props.book.shelfLocation)}},{key:"render",value:function(){var e=this.props.book;return r.a.createElement("div",{id:"BookInfo"},r.a.createElement("div",{id:"BookDetailsContainer"},r.a.createElement("div",{class:"topBar"},r.a.createElement("button",{onClick:this.toggleEdit},this.state.editButtonText),r.a.createElement("button",{onClick:this.props.hideBookInfo},"X")),"details"===this.state.display?r.a.createElement(D,{book:e,shelf:this.state.shelf}):r.a.createElement(T,{book:e,shelf:this.state.shelf,updateNotifyer:this.updateNotifyer})))}}]),t}(n.Component),x=(a(28),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={serverResponse:"",details:!1,detailsBook:{},booksList:[],filteredBooksList:[],genreList:[],subjectsList:[],searchString:""},a.updateSearchString=a.updateSearchString.bind(Object(m.a)(Object(m.a)(a))),a.genreTicker=a.genreTicker.bind(Object(m.a)(Object(m.a)(a))),a.subjectTicker=a.subjectTicker.bind(Object(m.a)(Object(m.a)(a))),a.filterList=a.filterList.bind(Object(m.a)(Object(m.a)(a))),a.checkGenre=a.checkGenre.bind(Object(m.a)(Object(m.a)(a))),a.checkSubjects=a.checkSubjects.bind(Object(m.a)(Object(m.a)(a))),a.matchAll=a.matchAll.bind(Object(m.a)(Object(m.a)(a))),a.showBookInfo=a.showBookInfo.bind(Object(m.a)(Object(m.a)(a))),a.hideBookInfo=a.hideBookInfo.bind(Object(m.a)(Object(m.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"findAnyMatch",value:function(e,t){for(var a=function(a){if(t.some(function(t){return t===e[a]}))return{v:!0}},n=0;n<e.length;n++){var r=a(n);if("object"===typeof r)return r.v}return!1}},{key:"matchAll",value:function(e,t){for(var a=function(a){if(console.log(e[a],t,t.some(function(t){return e[a]})),!t.some(function(t){return e[a]}))return{v:!1}},n=0;n<e.length;n++){var r=a(n);if("object"===typeof r)return r.v}return!0}},{key:"checkGenre",value:function(e){var t=this.state.genreList.filter(function(e){return e[1]}).map(function(e){return e[0]}),a=e.genre;return 0===t.length||0!==a.length&&t.every(function(e){return a.indexOf(e)>-1})}},{key:"checkSubjects",value:function(e){var t=this.state.subjectsList.filter(function(e){return e[1]}).map(function(e){return e[0]}),a=e.subject;return 0===t.length||0!==a.length&&t.every(function(e){return a.indexOf(e)>-1})}},{key:"genreTicker",value:function(e){var t=e.target.nextSibling.data,a=e.target.checked,n=Object(y.a)(this.state.genreList),r=n.findIndex(function(e){return e[0]===t});n[r][1]=a,this.setState({genreList:n})}},{key:"subjectTicker",value:function(e){var t=e.target.nextSibling.data,a=e.target.checked,n=Object(y.a)(this.state.subjectsList),r=n.findIndex(function(e){return e[0]===t});n[r][1]=a,this.setState({subjectsList:n})}},{key:"updateSearchString",value:function(e){this.setState({searchString:e.target.value})}},{key:"removeRepeatedItems",value:function(e){return e.reduce(function(e,t){return-1===e.indexOf(t)?Object(y.a)(e).concat([t]):e},[])}},{key:"arrayToChecklist",value:function(e){return e.map(function(e){return[e,!1]})}},{key:"parseBooklist",value:function(e){this.setState({booksList:Object(y.a)(e)})}},{key:"parseGenreList",value:function(e){var t=e.reduce(function(e,t){return e=e.length>0?Object(y.a)(e).concat(Object(y.a)(t.genre)):Object(y.a)(t.genre)},[]),a=this.removeRepeatedItems(t),n=this.arrayToChecklist(a);this.setState({genreList:Object(y.a)(n)})}},{key:"parseSubjectsList",value:function(e){var t=e.reduce(function(e,t){return e=Object(y.a)(e).concat(Object(y.a)(t.subject))},[]),a=this.removeRepeatedItems(t),n=this.arrayToChecklist(a);this.setState({subjectsList:Object(y.a)(n)})}},{key:"getBookList",value:function(){var e=this,t=new XMLHttpRequest;t.open("GET","/api/books",!0),t.onreadystatechange=function(){if(4===t.readyState){var a=JSON.parse(t.responseText);e.parseBooklist(a),e.parseGenreList(a),e.parseSubjectsList(a)}},t.send()}},{key:"componentDidMount",value:function(){this.getBookList()}},{key:"filterList",value:function(e){var t=this,a=e.filter(function(e){return e.title.toLowerCase().indexOf(t.state.searchString.toLowerCase())>-1});return a=(a=a.filter(this.checkGenre)).filter(this.checkSubjects)}},{key:"showBookInfo",value:function(e){this.setState({detailsBook:e,details:!0})}},{key:"hideBookInfo",value:function(){this.getBookList(),this.setState({details:!1})}},{key:"render",value:function(){var e=this.filterList(this.state.booksList);return r.a.createElement("div",{id:"BooksSearch"},!0===this.state.details?r.a.createElement(B,{book:this.state.detailsBook,hideBookInfo:this.hideBookInfo}):r.a.createElement("div",null),r.a.createElement(C,{updateSearchString:this.updateSearchString,genreList:this.state.genreList,subjectsList:this.state.subjectsList,genreTicker:this.genreTicker,subjectTicker:this.subjectTicker,booksList:e}),r.a.createElement(S,{showBookInfo:this.showBookInfo,booksList:e}),r.a.createElement("div",{id:"serverResponse"},this.state.serverResponse))}}]),t}(n.Component)),w=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p,null,r.a.createElement(x,{tabName:"Book Search"}),r.a.createElement(g,{tabName:"Add Storage Locations"}),r.a.createElement(k,{tabName:"Add Books"})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(w,null),document.getElementById("root")),document.title="Card Catalog","serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[11,2,1]]]);
//# sourceMappingURL=main.7532f996.chunk.js.map